<!DOCTYPE html> 
<html>
    <head>
            <title>Basic Charts</title>
            <style>
                .chartTitle {
                    text-align: center;
                    font-family: Arial, Helvetica, sans-serif;
                    font-size: 24px;
                    margin-bottom: 20px;
                }
                .chartTitle select {
                    padding: 4px;
                    font-size: 24px;
                }
            </style>
    </head>
    <body style="font-family: 'Segoe UI', sans-serif; padding: 20px;">
        <div class="chartTitle">Eviction Rates in Boston and Gateway Cities</div>
        <div id="chart1" style="width: 100%; height: 500px;"></div>
        <div class="chartTitle">
            Compare cities in 2008 and 2016 for: 
                <select id="measureSelect" style="margin:8px;">
                        <option>Poverty Rate</option>
                        <option>Median Gross Rent</option>
                        <option>Percent Renter Occupied</option>
                        <option>Rent Burden</option>
                </select>
        </div>
       
        <div id="chart2" style="width: 100%; height: 500px;"></div>
        
        <script>
            window.onload = function() {
var data = [
    {"": {
        "Boston": {
            "2008-01-02T00:00:00.00Z": {
                "eviction rate": 1.55
            },
            "2009-01-02T00:00:00.00Z": {
                "eviction rate": 1.2
            },
            "2010-01-02T00:00:00.00Z": {
                "eviction rate": 1.24
            },
            "2011-01-02T00:00:00.00Z": {
                "eviction rate": 1.24
            },
            "2012-01-02T00:00:00.00Z": {
                "eviction rate": 1.49
            },
            "2013-01-02T00:00:00.00Z": {
                "eviction rate": 1.47
            },
            "2014-01-02T00:00:00.00Z": {
                "eviction rate": 1.01
            },
            "2015-01-02T00:00:00.00Z": {
                "eviction rate": 1.42
            },
            "2016-01-02T00:00:00.00Z": {
                "eviction rate": 1.3
            }
        },
  "Brockton": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 4.87
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 4.87
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 4.21
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 4.96
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.76
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 4.67
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 5.09
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 3.84
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.69
      }
    
  },
  "Cambridge": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 0.59
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 0.2
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 0.07
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 0.24
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 1.01
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 0.92
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 0.88
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 0.99
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 1.06
      }
    
  },
  "Fall River": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 3.04
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 3.05
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 3.24
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 4
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.13
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 3.62
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 4.51
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 3.41
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.23
      
    }
  },
  "Lowell": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 2.81
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 2.94
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 3.09
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 2.14
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.18
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 2.67
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 2.67
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 2.68
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.42
      
    }
  },
  "Lynn": {
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": null
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": null
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 2.9
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 3.41
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.15
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 2.86
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 2.91
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 2.85
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.75
      }
    
  },
  "New Bedford": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 3.64
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 3.94
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 3.98
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 5.36
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.59
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 4.26
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 5.36
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 3.69
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.19
      }
    
  },
  "Quincy": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 1.54
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 1.12
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 1.31
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 1.53
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 1.48
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 1.36
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 1.4
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 1.59
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 1.47
      }
    }
  },
  "Springfield": {
    
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 4.96
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 5.12
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 5.25
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 5.1
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.69
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 3.09
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 3.05
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 2.8
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 2.06
      }
    
  },
  "Worcester": {
      "2008-01-02T00:00:00.00Z": {
        "eviction rate": 3.57
      },
      "2009-01-02T00:00:00.00Z": {
        "eviction rate": 3.2
      },
      "2010-01-02T00:00:00.00Z": {
        "eviction rate": 3.92
      },
      "2011-01-02T00:00:00.00Z": {
        "eviction rate": 4.18
      },
      "2012-01-02T00:00:00.00Z": {
        "eviction rate": 3.52
      },
      "2013-01-02T00:00:00.00Z": {
        "eviction rate": 2.5
      },
      "2014-01-02T00:00:00.00Z": {
        "eviction rate": 3.13
      },
      "2015-01-02T00:00:00.00Z": {
        "eviction rate": 2.03
      },
      "2016-01-02T00:00:00.00Z": {
        "eviction rate": 1.97
      }
  }
}
]

                // render the data in a chart
                var tsiClient = new TsiClient();
                var lineChart = new tsiClient.ux.LineChart(document.getElementById('chart1'));
                var linechartData = createLinechartData();
                lineChart.render(linechartData, {offset: 'UTC', yAxisState: "shared", tooltip: true, legend: "compact", theme: "light", singleLineXAxisLabel: true, hideChartControlPanel: true, canDownload: false});


                function renderBarchart (measure) {
                    barChart.render(createDataForMeasure(measure), {theme: 'light', tooltip: true, legend: 'hidden', offset: "Local", canDownload: false});
                }

                document.getElementById('measureSelect').onchange = function(){renderBarchart(this.value)};
                var barChart = new tsiClient.ux.BarChart(document.getElementById('chart2'));
                renderBarchart("Poverty Rate");
           };

        </script>
    </body>

    <!-- boilerplate headers are injected with head.js, grab them from the live example header, or include a link to head.js -->
    <script src="head.js"></script>
    <script src="formatData.js"></script>
</html>




